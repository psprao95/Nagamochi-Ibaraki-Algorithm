\documentclass[12pt,letterpaper,titlepage,en-US]{article}

\usepackage{basicstyle}
\usepackage{report}
%\usepackage{knit}

\usepackage{listings}
\usepackage{xcolor}


\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
 
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
 
\lstset{style=mystyle}



\usepackage[toc,page]{appendix}

\newcommand{\hmwkTitle}{Project \#2}
\DTMsavetimestamp{DueDate}{2019-11-05T11:59:00+00:00}
\newcommand{\hmwkClass}{CS 6385.001}
\newcommand{\hmwkClassName}{Algorithmic Aspects of Telecommunication Networks}
\newcommand{\hmwkClassInstructor}{Instructor: Prof. Andras Farago}
\newcommand{\hmwkAuthorName}{Shyam Patharla}
\newcommand{\hmwkAuthorNetID}{sxp178231}




%
% Title Page
%

\title{
    \vspace{1in}
    \textmd{\textbf{\hmwkClassName \\\hmwkClass:\ \hmwkTitle }}\\
    \normalsize\vspace{0.1in}\small{Due\ on\ \DTMusedate{DueDate}\ at \DTMusetime{DueDate} }\\
    \vspace{0.1in}\large{\textit{\hmwkClassInstructor}}\\
    \vspace{0.5in}\includegraphics[height=2.4em]{UTD_logo_BW}\\
    \vspace{2in}
}

\author{\textbf{\hmwkAuthorName\ \footnotesize{(\hmwkAuthorNetID)}} \\ }
\date{}
\makeindex

\begin{document}
\maketitle
\pagenumbering{Roman}

\tableofcontents

\pagebreak
\pagenumbering{arabic}

\section{Introduction}
\begin{itemize}
\item In this project, we try to implement the basic network design model
\item Give an input number of nodes, traffic demands between different nodes and a parameter k, our program outputs a network topology i.e a directed graph with links and capacities assigned to these links
\item We do this for range of values of k
\item  We also analyze how the cost and density of the output network vary with the value of k
\item We discuss the possible reasons for the above characteristics.
\end{itemize}

\section{Design Decisions}
\begin{itemize}
\item We implement the solution in the \textbf{Java} programming language
\item The program modules were run on a \textbf{Mac} operating system

\end{itemize}





\section{Solution Approach}

\subsection{Generating Input Examples}
\textit{Module 1} consists of generating input graphs for simulating the algorithm.
These parameters are then passed on to second module which runs the Nagamochi Ibaraki  algorithm on them. The graphs are generated as follows.

\begin{itemize}
\item For all examples, we set the number of nodes in the network to 20 i.e \textit{n} = 20.

\item The number of edges is taken from the set [19,190] in steps of 3 i.e. m=19,22,25,....190

\item For each pair of values of m and n we generate 5 graphs

\item  The m edges are selected randomly 
\item Self loops and parallel edges are avoided.



\end{itemize}




\subsection{Nagamochi Ibaraki Algorithm}
Module 2 receives input parameters from the first module (graph).

\begin{itemize}

\item All pairs shortest paths
\begin{itemize}
\item We compute the shortest distances between all pairs of nodes using the \textbf{FloydWarshall algorithm} i.e. and store them in a  matrix \textit{dist}

\item While computing the above \textit{dist} matrix, we also store the shortest paths between each pair of nodes (i,j) in the pred matrix. Each entry \textbf{pred\textsubscript{ij}} gives the node with \textbf{maximum} number in the shortest path between nodes i and j. 

\item \textbf{Special case:} If there is no node in the shortest path between i and j, pred\textsubscript{ij}=-1
\end{itemize}

\item Design Links and Capacities
\begin{itemize}
\item The \textit{capacities} matrix and \textit{links} matrix are initiated with all values equal to \textbf{zero}

\item Let S be the shortest path between nodes k and l, where k$\neq$l. For each edge (i,j) on S  
\begin{itemize}
\item If  \textbf{link\textsubscript{ij}} has not been set to 1, set it to 1 
\item The capacity of link\textsubscript{ij}  is incremented by \textbf{demand\textsubscript{kl}} 

\end{itemize}

\item The above process is repeated for each pair of nodes (k,l) where k$\neq$l.

\end{itemize}


\item The \textit{links} and \textit{capacities} matrices are passed on to Module 3, which analyzes how the total cost of the network and densities change with respect to our k parameter.


\subsection{Presentation of Results}
\begin{itemize}

\item Module 3 takes the output parameters of \textit{Module 2} i.e. the \textbf{edge connectivity} for a graph with n nodes and m edges

\item For each value of m we had generated 5 graphs. The edge connectivity for that value of m is the average of the edge connectivities of these 5 graphs
 \item The above computation is repeated for all \textbf{m} values

\item We compute the \textbf{spread} of the each edge connectivity value. 

\item The \textit{spread} of an edge connectivity value is the difference between the smallest and largest value of m for which the value occurs.
 

 
\item We then try to answer questions such as:
\begin{itemize}
\item How does the edge connectivity of the network vary with the value of m?
\item How does spread of an edge connectivity value vary with the value of m? 
\end{itemize}


\end{itemize}

We present the execution of our project using the flow chart below.\\

  \includegraphics[scale=0.2]{fig/flowchart.png}
\end{itemize}


\section{Nagamochi Ibaraki Algorithm - Explanation}
\begin{itemize}


\item The goal is to find the edge connectivity of a graph G=(V,E) i.e. the minimum number of edges which must be deleted to disconnect G

\item \textbf{Base Case}: There are only two nodes i and j in the graph, so the edge connectivity of the graph  is the number of edges (if any) between i and j

\item \textbf{Recursive Case}: 
\begin{itemize}
\item There are n nodes in the current graph, $n>=3$
\item We find the maximum adjacency ordering of the nodes in the current graph. Let it be $v_{1},v_{2},..v_{n-1},v_{n}$

\item We take the last two nodes in the above ordering, x=$v_{n-1}$ and y=$v_{n}$. Then, $\lambda(x,y$)= degree(y)

\item Merge nodes x and y into one node. Let $G_{xy}$ be the resulting graph.

\item Find the edge connectivity of $G_{xy}$. Let it be b.

\item Return min(a,b)



\end{itemize}








\begin{algorithm}[H]
    \caption{NagamochiIbarakiAlgorithm}
    \begin{algorithmic}[1]
        \Procedure{NagamochIbaraki}{$V,E$}
      
      \State $n= \mid V \mid$
      \If{$n=2$}
      \State return $\mid E \mid$
      \EndIf
      
        
        \State $[v_{1},v_{2},...v_{n}]$ = maximumAdjacencyOrdering(V)
        
        \State $x=v_{n-1}$
        \State $y=v_{n}$
        \State a=$degree(y)$
        \State$ G_{xy}$=graph created by merging nodes x and y
        \State b = NagamochiIbaraki$(V_{xy}, E_{xy})$
        \State return min(a,b)
        
     
     
      
        \EndProcedure
    \end{algorithmic}
    \end{algorithm}


\item The result  is the edge connectivity of the graph.

\end{itemize}

\section{Observations and Analysis}
\begin{itemize}


\item The program produces an output as shown in the figure below.\\

% \includegraphics[scale=0.32]{fig/plot1.png}
 
\item The output results are stored in a \textit{csv} file. The graphs are generated in \textbf{R}

\item We plot the graph of the number of edges \textbf{m} vs. the edge connectivity \textbf{$\lambda(G)$}. We can clearly see that the cost of the network \textbf{decreases} with increase in the value of k. \\

\includegraphics[scale=0.7]{fig/plot1.png}

\item We plot the graph of edge connectivity values \textbf{lambda(G)} against the \textbf{spread}. We can clearly see that the density of the network \textbf{increases} with increase in the value of k. \\

\includegraphics[scale=0.6]{fig/plot2.png}




\item We can clearly see that the \textbf{density} of the resulting network \textbf{increases} with increasing value of k.
\end{itemize}
 
\section{Discussion}
\begin{itemize}

\item Consider a single run of our program with any value of k (say k=5). For each node i, there will be 5 low cost links going out of i (cost=1). When the shortest path algorithm executes, it will try to \textbf{avoid} the high cost links (cost=100) going out of node i.

\item Thus by \textbf{limiting k}, we limit the number of links that go out of any node i, and hence limit the \textbf{density} of the network

\item This is the reason we observe that as k \textbf{increases}, the density of our resulting network also \textbf{increases}

\item Consider any pair of nodes (s,t). Let i be any node i on the shortest path from s to t (t cannot be included in this set). As k increases we have more options at all such nodes i to reach t and we could take different paths.

\item The number of edges which repeatedly fall in the shortest path between any 2 pair of nodes \textbf{decreases} and this is why the cost of the network \textbf{decreases}.

\item The network has more of different edges of various edges of different costs rather than few edges some of which may have high costs

\end{itemize}





  \section{ReadMe File}
  This section shows how to run the project files.
  \begin{itemize}
  \item Downloads the project files and store them in a folder
  \item Open the project folder in Eclipse
  \item Open the file \textbf{Presentation.java}
  \item Right Click $->$ Run as $->$ Java Application
  \item Alternatively,navigate to the folder in \textbf{terminal} and run the following commands
  \begin{itemize}
  \item javac Presentation.java
  \item java Presentation
  \end{itemize}
  \end{itemize}

  

 
\section{Code}

\textbf{Module 1: InputGeneration.java}
\lstinputlisting{/users/psprao/eclipse-workspace/Nagamochi-Ibaraki/src/InputGeneration.java}

\pagebreak
\textbf{Module 2: NagamochiIbaraki.java}
\lstinputlisting{/users/psprao/eclipse-workspace/Nagamochi-Ibaraki/src/NagamochiIbaraki.java}

\pagebreak
\textbf{Module 3: Presentation.java}
\lstinputlisting{/users/psprao/eclipse-workspace/Nagamochi-Ibaraki/src/Presentation.java}

\pagebreak
\textbf{Utils.java}
\lstinputlisting{/users/psprao/eclipse-workspace/Nagamochi-Ibaraki/src/Utils.java}

\textbf{Edge.java}
\lstinputlisting{/users/psprao/eclipse-workspace/Nagamochi-Ibaraki/src/Edge.java}

\textbf{Visualization.R.java}
\lstinputlisting{/users/psprao/eclipse-workspace/Nagamochi-Ibaraki/visualization.R}


\section{References}
\begin{itemize}


\item Lecture Notes - An Application to Network Design
\end{itemize}


\end{document}
